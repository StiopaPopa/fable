import { isFunction } from "@thi.ng/checks/is-function";
import { float, floatFixedWidth } from "@thi.ng/strings/float";
const defFormat = (opts = {}) => {
  const { prec = 3, delim = ", ", wrap = "[]", width } = opts;
  const fmt = width ? floatFixedWidth(width, prec) : float(prec);
  return (src) => {
    let res = [];
    for (let x of src) res.push(fmt(x));
    return `${wrap[0]}${res.join(delim)}${wrap[1]}`;
  };
};
const setFormat = (fmt) => {
  FORMATTER = isFunction(fmt) ? fmt : defFormat(fmt);
};
let FORMATTER = defFormat();
export {
  FORMATTER,
  defFormat,
  setFormat
};
